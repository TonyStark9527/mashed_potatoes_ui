import{o as Pe,x as Ze,j as v,T as rl,aQ as sl,aR as Dt,L as cl,u as Ht,M as dl,q as Pt,r as O,aS as Bt,R as fl,g as h,w as ce,aE as Je,i as et,ao as Le,U as He,aT as vl,m as ml,aK as me,an as ie,F as le,s as ve,aU as gt,aV as Nt,aW as Ut,aX as $t,aY as gl,aZ as Sl,y as hl,a_ as bl,aH as yl,n as wl,h as fe,a6 as Cl,J as kl,_ as xl,Z as Vl,a$ as dt,b0 as _l,b1 as pl,b2 as Il,b3 as ql,am as ot,b4 as Ft,b5 as Me,b6 as Al,ak as Fe,al as Bl,b7 as Fl,b8 as ft,b9 as Ll,z as Tl,ba as zl,A as El,B as j,av as Re,G as vt,E as A,D as F,bb as Ol,aI as G,bc as Lt,bd as rt,aw as Ke,Q as We,C as ue,az as st,aG as Tt,be as Ml,bf as zt,bg as Rl,bh as Dl,aJ as Hl,aM as Ye,aL as Et,aC as Xe,ap as Pl,bi as Ge,ay as Nl}from"./index.0ccd5091.js";import{Q as Ul}from"./QScrollArea.3a2ab921.js";import{n as Ot}from"./format.762567f2.js";import"./touch.70a9dd44.js";const $l=Pe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:d,emit:u}){let f=!1,p,l,q=null,b=null,g,L;function c(){p&&p(),p=null,f=!1,q!==null&&(clearTimeout(q),q=null),b!==null&&(clearTimeout(b),b=null),l!==void 0&&l.removeEventListener("transitionend",g),g=null}function y(s,m,z){m!==void 0&&(s.style.height=`${m}px`),s.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,f=!0,p=z}function x(s,m){s.style.overflowY=null,s.style.height=null,s.style.transition=null,c(),m!==L&&u(m)}function r(s,m){let z=0;l=s,f===!0?(c(),z=s.offsetHeight===s.scrollHeight?0:void 0):(L="hide",s.style.overflowY="hidden"),y(s,z,m),q=setTimeout(()=>{q=null,s.style.height=`${s.scrollHeight}px`,g=M=>{b=null,(Object(M)!==M||M.target===s)&&x(s,"show")},s.addEventListener("transitionend",g),b=setTimeout(g,e.duration*1.1)},100)}function V(s,m){let z;l=s,f===!0?c():(L="show",s.style.overflowY="hidden",z=s.scrollHeight),y(s,z,m),q=setTimeout(()=>{q=null,s.style.height=0,g=M=>{b=null,(Object(M)!==M||M.target===s)&&x(s,"hide")},s.addEventListener("transitionend",g),b=setTimeout(g,e.duration*1.1)},100)}return Ze(()=>{f===!0&&c()}),()=>v(rl,{css:!1,appear:e.appear,onEnter:r,onLeave:V},d.default)}}),ke=sl({}),Ql=Object.keys(Dt),jl=Pe({name:"QExpansionItem",props:{...Dt,...cl,...Ht,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...dl,"click","afterShow","afterHide"],setup(e,{slots:d,emit:u}){const{proxy:{$q:f}}=et(),p=Pt(e,f),l=O(e.modelValue!==null?e.modelValue:e.defaultOpened),q=O(null),b=Bt(),{show:g,hide:L,toggle:c}=fl({showing:l});let y,x;const r=h(()=>`q-expansion-item q-item-type q-expansion-item--${l.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),V=h(()=>e.contentInsetLevel===void 0?null:{["padding"+(f.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),s=h(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),m=h(()=>{const C={};return Ql.forEach($=>{C[$]=e[$]}),C}),z=h(()=>s.value===!0||e.expandIconToggle!==!0),M=h(()=>e.expandedIcon!==void 0&&l.value===!0?e.expandedIcon:e.expandIcon||f.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),J=h(()=>e.disable!==!0&&(s.value===!0||e.expandIconToggle===!0)),H=h(()=>({expanded:l.value===!0,detailsId:e.targetUid,toggle:c,show:g,hide:L})),D=h(()=>{const C=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:f.lang.label[l.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":l.value===!0?"true":"false","aria-controls":b,"aria-label":C}});ce(()=>e.group,C=>{x!==void 0&&x(),C!==void 0&&Y()});function Z(C){s.value!==!0&&c(C),u("click",C)}function ge(C){C.keyCode===13&&oe(C,!0)}function oe(C,$){$!==!0&&q.value!==null&&q.value.focus(),c(C),ve(C)}function Se(){u("afterShow")}function re(){u("afterHide")}function Y(){y===void 0&&(y=Bt()),l.value===!0&&(ke[e.group]=y);const C=ce(l,ee=>{ee===!0?ke[e.group]=y:ke[e.group]===y&&delete ke[e.group]}),$=ce(()=>ke[e.group],(ee,o)=>{o===y&&ee!==void 0&&ee!==y&&L()});x=()=>{C(),$(),ke[e.group]===y&&delete ke[e.group],x=void 0}}function de(){const C={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},$=[v(le,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&l.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:M.value})];return J.value===!0&&(Object.assign(C,{tabindex:0,...D.value,onClick:oe,onKeyup:ge}),$.unshift(v("div",{ref:q,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v(ie,C,()=>$)}function he(){let C;return d.header!==void 0?C=[].concat(d.header(H.value)):(C=[v(ie,()=>[v(me,{lines:e.labelLines},()=>e.label||""),e.caption?v(me,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&C[e.switchToggleSide===!0?"push":"unshift"](v(ie,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(le,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&C[e.switchToggleSide===!0?"unshift":"push"](de()),C}function be(){const C={ref:"item",style:e.headerStyle,class:e.headerClass,dark:p.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return z.value===!0&&(C.clickable=!0,C.onClick=Z,Object.assign(C,s.value===!0?m.value:D.value)),v(Le,C,he)}function se(){return He(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:V.value,id:b},ml(d.default)),[[vl,l.value]])}function ne(){const C=[be(),v($l,{duration:e.duration,onShow:Se,onHide:re},se)];return e.expandSeparator===!0&&C.push(v(Je,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:p.value}),v(Je,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:p.value})),C}return e.group!==void 0&&Y(),Ze(()=>{x!==void 0&&x()}),()=>v("div",{class:r.value},[v("div",{class:"q-expansion-item__container relative-position"},ne())])}}),Kl=Pe({name:"QField",inheritAttrs:!1,props:gt,emits:Nt,setup(){return Ut($t())}}),Wl={xs:8,sm:10,md:14,lg:20,xl:24},Yl=Pe({name:"QChip",props:{...Ht,...gl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:d,emit:u}){const{proxy:{$q:f}}=et(),p=Pt(e,f),l=Sl(e,Wl),q=h(()=>e.selected===!0||e.icon!==void 0),b=h(()=>e.selected===!0?e.iconSelected||f.iconSet.chip.selected:e.icon),g=h(()=>e.iconRemove||f.iconSet.chip.remove),L=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=h(()=>{const m=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(m?` text-${m} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(L.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(p.value===!0?" q-chip--dark q-dark":"")}),y=h(()=>{const m=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},z={...m,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||f.lang.label.remove};return{chip:m,remove:z}});function x(m){m.keyCode===13&&r(m)}function r(m){e.disable||(u("update:selected",!e.selected),u("click",m))}function V(m){(m.keyCode===void 0||m.keyCode===13)&&(ve(m),e.disable===!1&&(u("update:modelValue",!1),u("remove")))}function s(){const m=[];L.value===!0&&m.push(v("div",{class:"q-focus-helper"})),q.value===!0&&m.push(v(le,{class:"q-chip__icon q-chip__icon--left",name:b.value}));const z=e.label!==void 0?[v("div",{class:"ellipsis"},[e.label])]:void 0;return m.push(v("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},bl(d.default,z))),e.iconRight&&m.push(v(le,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&m.push(v(le,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...y.value.remove,onClick:V,onKeyup:V})),m}return()=>{if(e.modelValue===!1)return;const m={class:c.value,style:l.value};return L.value===!0&&Object.assign(m,y.value.chip,{onClick:r,onKeyup:x}),hl("div",m,s(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[yl,e.ripple]])}}}),te=1e3,Xl=["start","center","end","start-force","center-force","end-force"],Qt=Array.prototype.filter,Gl=window.getComputedStyle(document.body).overflowAnchor===void 0?wl:function(e,d){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const u=e.children||[];Qt.call(u,p=>p.dataset&&p.dataset.qVsAnchor!==void 0).forEach(p=>{delete p.dataset.qVsAnchor});const f=u[d];f&&f.dataset&&(f.dataset.qVsAnchor="")}))};function Te(e,d){return e+d}function ct(e,d,u,f,p,l,q,b){const g=e===window?document.scrollingElement||document.documentElement:e,L=p===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-q-b,scrollMaxSize:0,offsetStart:-q,offsetEnd:-b};if(p===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=g.scrollLeft,c.scrollViewSize+=g.clientWidth),c.scrollMaxSize=g.scrollWidth,l===!0&&(c.scrollStart=(dt===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=g.scrollTop,c.scrollViewSize+=g.clientHeight),c.scrollMaxSize=g.scrollHeight),u!==null)for(let y=u.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=y[L]);if(f!==null)for(let y=f.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=y[L]);if(d!==e){const y=g.getBoundingClientRect(),x=d.getBoundingClientRect();p===!0?(c.offsetStart+=x.left-y.left,c.offsetEnd-=x.width):(c.offsetStart+=x.top-y.top,c.offsetEnd-=x.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function Mt(e,d,u,f){d==="end"&&(d=(e===window?document.body:e)[u===!0?"scrollWidth":"scrollHeight"]),e===window?u===!0?(f===!0&&(d=(dt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-d),window.scrollTo(d,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d):u===!0?(f===!0&&(d=(dt===!0?e.scrollWidth-e.offsetWidth:0)-d),e.scrollLeft=d):e.scrollTop=d}function De(e,d,u,f){if(u>=f)return 0;const p=d.length,l=Math.floor(u/te),q=Math.floor((f-1)/te)+1;let b=e.slice(l,q).reduce(Te,0);return u%te!==0&&(b-=d.slice(l*te,u).reduce(Te,0)),f%te!==0&&f!==p&&(b-=d.slice(f,q*te).reduce(Te,0)),b}const Jl={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Zl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Jl};function en({virtualScrollLength:e,getVirtualScrollTarget:d,getVirtualScrollEl:u,virtualScrollItemSizeComputed:f}){const p=et(),{props:l,emit:q,proxy:b}=p,{$q:g}=b;let L,c,y,x=[],r;const V=O(0),s=O(0),m=O({}),z=O(null),M=O(null),J=O(null),H=O({from:0,to:0}),D=h(()=>l.tableColspan!==void 0?l.tableColspan:100);f===void 0&&(f=h(()=>l.virtualScrollItemSize));const Z=h(()=>f.value+";"+l.virtualScrollHorizontal),ge=h(()=>Z.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);ce(ge,()=>{ne()}),ce(Z,oe);function oe(){se(c,!0)}function Se(i){se(i===void 0?c:i)}function re(i,S){const k=d();if(k==null||k.nodeType===8)return;const R=ct(k,u(),z.value,M.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);y!==R.scrollViewSize&&ne(R.scrollViewSize),de(k,R,Math.min(e.value-1,Math.max(0,parseInt(i,10)||0)),0,Xl.indexOf(S)>-1?S:c>-1&&i>c?"end":"start")}function Y(){const i=d();if(i==null||i.nodeType===8)return;const S=ct(i,u(),z.value,M.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),k=e.value-1,R=S.scrollMaxSize-S.offsetStart-S.offsetEnd-s.value;if(L===S.scrollStart)return;if(S.scrollMaxSize<=0){de(i,S,0,0);return}y!==S.scrollViewSize&&ne(S.scrollViewSize),he(H.value.from);const N=Math.floor(S.scrollMaxSize-Math.max(S.scrollViewSize,S.offsetEnd)-Math.min(r[k],S.scrollViewSize/2));if(N>0&&Math.ceil(S.scrollStart)>=N){de(i,S,k,S.scrollMaxSize-S.offsetEnd-x.reduce(Te,0));return}let B=0,_=S.scrollStart-S.offsetStart,U=_;if(_<=R&&_+S.scrollViewSize>=V.value)_-=V.value,B=H.value.from,U=_;else for(let I=0;_>=x[I]&&B<k;I++)_-=x[I],B+=te;for(;_>0&&B<k;)_-=r[B],_>-S.scrollViewSize?(B++,U=_):U=r[B]+_;de(i,S,B,U)}function de(i,S,k,R,N){const B=typeof N=="string"&&N.indexOf("-force")>-1,_=B===!0?N.replace("-force",""):N,U=_!==void 0?_:"start";let I=Math.max(0,k-m.value[U]),K=I+m.value.total;K>e.value&&(K=e.value,I=Math.max(0,K-m.value.total)),L=S.scrollStart;const xe=I!==H.value.from||K!==H.value.to;if(xe===!1&&_===void 0){$(k);return}const{activeElement:ze}=document,ae=J.value;xe===!0&&ae!==null&&ae!==ze&&ae.contains(ze)===!0&&(ae.addEventListener("focusout",be),setTimeout(()=>{ae!==null&&ae.removeEventListener("focusout",be)})),Gl(ae,k-I);const Ne=_!==void 0?r.slice(I,k).reduce(Te,0):0;if(xe===!0){const ye=K>=H.value.from&&I<=H.value.to?H.value.to:K;H.value={from:I,to:ye},V.value=De(x,r,0,I),s.value=De(x,r,K,e.value),requestAnimationFrame(()=>{H.value.to!==K&&L===S.scrollStart&&(H.value={from:H.value.from,to:K},s.value=De(x,r,K,e.value))})}requestAnimationFrame(()=>{if(L!==S.scrollStart)return;xe===!0&&he(I);const ye=r.slice(I,k).reduce(Te,0),Ve=ye+S.offsetStart+V.value,Ue=Ve+r[k];let Ee=Ve+R;if(_!==void 0){const tt=ye-Ne,W=S.scrollStart+tt;Ee=B!==!0&&W<Ve&&Ue<W+S.scrollViewSize?W:_==="end"?Ue-S.scrollViewSize:Ve-(_==="start"?0:Math.round((S.scrollViewSize-r[k])/2))}L=Ee,Mt(i,Ee,l.virtualScrollHorizontal,g.lang.rtl),$(k)})}function he(i){const S=J.value;if(S){const k=Qt.call(S.children,I=>I.classList&&I.classList.contains("q-virtual-scroll--skip")===!1),R=k.length,N=l.virtualScrollHorizontal===!0?I=>I.getBoundingClientRect().width:I=>I.offsetHeight;let B=i,_,U;for(let I=0;I<R;){for(_=N(k[I]),I++;I<R&&k[I].classList.contains("q-virtual-scroll--with-prev")===!0;)_+=N(k[I]),I++;U=_-r[B],U!==0&&(r[B]+=U,x[Math.floor(B/te)]+=U),B++}}}function be(){J.value!==null&&J.value!==void 0&&J.value.focus()}function se(i,S){const k=1*f.value;(S===!0||Array.isArray(r)===!1)&&(r=[]);const R=r.length;r.length=e.value;for(let B=e.value-1;B>=R;B--)r[B]=k;const N=Math.floor((e.value-1)/te);x=[];for(let B=0;B<=N;B++){let _=0;const U=Math.min((B+1)*te,e.value);for(let I=B*te;I<U;I++)_+=r[I];x.push(_)}c=-1,L=void 0,V.value=De(x,r,0,H.value.from),s.value=De(x,r,H.value.to,e.value),i>=0?(he(H.value.from),fe(()=>{re(i)})):ee()}function ne(i){if(i===void 0&&typeof window<"u"){const _=d();_!=null&&_.nodeType!==8&&(i=ct(_,u(),z.value,M.value,l.virtualScrollHorizontal,g.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}y=i;const S=parseFloat(l.virtualScrollSliceRatioBefore)||0,k=parseFloat(l.virtualScrollSliceRatioAfter)||0,R=1+S+k,N=i===void 0||i<=0?1:Math.ceil(i/f.value),B=Math.max(1,N,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/R));m.value={total:Math.ceil(B*R),start:Math.ceil(B*S),center:Math.ceil(B*(.5+S)),end:Math.ceil(B*(1+S)),view:N}}function C(i,S){const k=l.virtualScrollHorizontal===!0?"width":"height",R={["--q-virtual-scroll-item-"+k]:f.value+"px"};return[i==="tbody"?v(i,{class:"q-virtual-scroll__padding",key:"before",ref:z},[v("tr",[v("td",{style:{[k]:`${V.value}px`,...R},colspan:D.value})])]):v(i,{class:"q-virtual-scroll__padding",key:"before",ref:z,style:{[k]:`${V.value}px`,...R}}),v(i,{class:"q-virtual-scroll__content",key:"content",ref:J,tabindex:-1},S.flat()),i==="tbody"?v(i,{class:"q-virtual-scroll__padding",key:"after",ref:M},[v("tr",[v("td",{style:{[k]:`${s.value}px`,...R},colspan:D.value})])]):v(i,{class:"q-virtual-scroll__padding",key:"after",ref:M,style:{[k]:`${s.value}px`,...R}})]}function $(i){c!==i&&(l.onVirtualScroll!==void 0&&q("virtualScroll",{index:i,from:H.value.from,to:H.value.to-1,direction:i<c?"decrease":"increase",ref:b}),c=i)}ne();const ee=Cl(Y,g.platform.is.ios===!0?120:35);kl(()=>{ne()});let o=!1;return xl(()=>{o=!0}),Vl(()=>{if(o!==!0)return;const i=d();L!==void 0&&i!==void 0&&i!==null&&i.nodeType!==8?Mt(i,L,l.virtualScrollHorizontal,g.lang.rtl):re(c)}),Ze(()=>{ee.cancel()}),Object.assign(b,{scrollTo:re,reset:oe,refresh:Se}),{virtualScrollSliceRange:H,virtualScrollSliceSizeComputed:m,setVirtualScrollSize:ne,onVirtualScrollEvt:ee,localResetVirtualScroll:se,padVirtualScroll:C,scrollTo:re,reset:oe,refresh:Se}}const Rt=e=>["add","add-unique","toggle"].includes(e),tn=".*+?^${}()|[]\\",ln=Object.keys(gt),nn=Pe({name:"QSelect",inheritAttrs:!1,props:{...Zl,..._l,...gt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Rt},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Nt,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:d,emit:u}){const{proxy:f}=et(),{$q:p}=f,l=O(!1),q=O(!1),b=O(-1),g=O(""),L=O(!1),c=O(!1);let y=null,x,r,V,s=null,m,z,M,J;const H=O(null),D=O(null),Z=O(null),ge=O(null),oe=O(null),Se=pl(e),re=Ll(_t),Y=h(()=>Array.isArray(e.options)?e.options.length:0),de=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:he,virtualScrollSliceSizeComputed:be,localResetVirtualScroll:se,padVirtualScroll:ne,onVirtualScrollEvt:C,scrollTo:$,setVirtualScrollSize:ee}=en({virtualScrollLength:Y,getVirtualScrollTarget:Yt,getVirtualScrollEl:xt,virtualScrollItemSizeComputed:de}),o=$t(),i=h(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,a=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const n=e.mapOptions===!0&&x!==void 0?x:[],w=a.map(E=>Wt(E,n));return e.modelValue===null&&t===!0?w.filter(E=>E!==null):w}return a}),S=h(()=>{const t={};return ln.forEach(a=>{const n=e[a];n!==void 0&&(t[a]=n)}),t}),k=h(()=>e.optionsDark===null?o.isDark.value:e.optionsDark),R=h(()=>Ft(i.value)),N=h(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||i.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),B=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),_=h(()=>Y.value===0),U=h(()=>i.value.map(t=>X.value(t)).join(", ")),I=h(()=>e.displayValue!==void 0?e.displayValue:U.value),K=h(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),xe=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||i.value.some(K.value))),ze=h(()=>o.focused.value===!0?e.tabindex:-1),ae=h(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${o.targetUid.value}_lb`};return b.value>=0&&(t["aria-activedescendant"]=`${o.targetUid.value}_${b.value}`),t}),Ne=h(()=>({id:`${o.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ye=h(()=>i.value.map((t,a)=>({index:a,opt:t,html:K.value(t),selected:!0,removeAtIndex:Kt,toggleOption:we,tabindex:ze.value}))),Ve=h(()=>{if(Y.value===0)return[];const{from:t,to:a}=he.value;return e.options.slice(t,a).map((n,w)=>{const E=_e.value(n)===!0,T=t+w,P={clickable:!0,active:!1,activeClass:tt.value,manualFocus:!0,focused:!1,disable:E,tabindex:-1,dense:e.optionsDense,dark:k.value,role:"option",id:`${o.targetUid.value}_${T}`,onClick:()=>{we(n)}};return E!==!0&&(at(n)===!0&&(P.active=!0),b.value===T&&(P.focused=!0),P["aria-selected"]=P.active===!0?"true":"false",p.platform.is.desktop===!0&&(P.onMousemove=()=>{l.value===!0&&pe(T)})),{index:T,opt:n,html:K.value(n),label:X.value(n),selected:P.active,focused:P.focused,toggleOption:we,setOptionIndex:pe,itemProps:P}})}),Ue=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:p.iconSet.arrow.dropdown),Ee=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),tt=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),W=h(()=>nt(e.optionValue,"value")),X=h(()=>nt(e.optionLabel,"label")),_e=h(()=>nt(e.optionDisable,"disable")),$e=h(()=>i.value.map(t=>W.value(t))),jt=h(()=>{const t={onInput:_t,onChange:re,onKeydown:kt,onKeyup:wt,onKeypress:Ct,onFocus:bt,onClick(a){r===!0&&Fe(a)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=re,t});ce(i,t=>{x=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&o.innerLoading.value!==!0&&(q.value!==!0&&l.value!==!0||R.value!==!0)&&(V!==!0&&Be(),(q.value===!0||l.value===!0)&&Ie(""))},{immediate:!0}),ce(()=>e.fillInput,Be),ce(l,ut),ce(Y,ol);function St(t){return e.emitValue===!0?W.value(t):t}function lt(t){if(t>-1&&t<i.value.length)if(e.multiple===!0){const a=e.modelValue.slice();u("remove",{index:t,value:a.splice(t,1)[0]}),u("update:modelValue",a)}else u("update:modelValue",null)}function Kt(t){lt(t),o.focus()}function ht(t,a){const n=St(t);if(e.multiple!==!0){e.fillInput===!0&&Oe(X.value(t),!0,!0),u("update:modelValue",n);return}if(i.value.length===0){u("add",{index:0,value:n}),u("update:modelValue",e.multiple===!0?[n]:n);return}if(a===!0&&at(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const w=e.modelValue.slice();u("add",{index:w.length,value:n}),w.push(n),u("update:modelValue",w)}function we(t,a){if(o.editable.value!==!0||t===void 0||_e.value(t)===!0)return;const n=W.value(t);if(e.multiple!==!0){a!==!0&&(Oe(e.fillInput===!0?X.value(t):"",!0,!0),Ce()),D.value!==null&&D.value.focus(),(i.value.length===0||Me(W.value(i.value[0]),n)!==!0)&&u("update:modelValue",e.emitValue===!0?n:t);return}if((r!==!0||L.value===!0)&&o.focus(),bt(),i.value.length===0){const T=e.emitValue===!0?n:t;u("add",{index:0,value:T}),u("update:modelValue",e.multiple===!0?[T]:T);return}const w=e.modelValue.slice(),E=$e.value.findIndex(T=>Me(T,n));if(E>-1)u("remove",{index:E,value:w.splice(E,1)[0]});else{if(e.maxValues!==void 0&&w.length>=e.maxValues)return;const T=e.emitValue===!0?n:t;u("add",{index:w.length,value:T}),w.push(T)}u("update:modelValue",w)}function pe(t){if(p.platform.is.desktop!==!0)return;const a=t>-1&&t<Y.value?t:-1;b.value!==a&&(b.value=a)}function Qe(t=1,a){if(l.value===!0){let n=b.value;do n=Ot(n+t,-1,Y.value-1);while(n!==-1&&n!==b.value&&_e.value(e.options[n])===!0);b.value!==n&&(pe(n),$(n),a!==!0&&e.useInput===!0&&e.fillInput===!0&&je(n>=0?X.value(e.options[n]):m))}}function Wt(t,a){const n=w=>Me(W.value(w),t);return e.options.find(n)||a.find(n)||t}function nt(t,a){const n=t!==void 0?t:a;return typeof n=="function"?n:w=>w!==null&&typeof w=="object"&&n in w?w[n]:w}function at(t){const a=W.value(t);return $e.value.find(n=>Me(n,a))!==void 0}function bt(t){e.useInput===!0&&D.value!==null&&(t===void 0||D.value===t.target&&t.target.value===U.value)&&D.value.select()}function yt(t){Al(t,27)===!0&&l.value===!0&&(Fe(t),Ce(),Be()),u("keyup",t)}function wt(t){const{value:a}=t.target;if(t.keyCode!==void 0){yt(t);return}if(t.target.value="",y!==null&&(clearTimeout(y),y=null),Be(),typeof a=="string"&&a.length>0){const n=a.toLocaleLowerCase(),w=T=>{const P=e.options.find(Q=>T.value(Q).toLocaleLowerCase()===n);return P===void 0?!1:(i.value.indexOf(P)===-1?we(P):Ce(),!0)},E=T=>{w(W)!==!0&&(w(X)===!0||T===!0||Ie(a,!0,()=>E(!0)))};E()}else o.clearValue(t)}function Ct(t){u("keypress",t)}function kt(t){if(u("keydown",t),Bl(t)===!0)return;const a=g.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),n=t.shiftKey!==!0&&e.multiple!==!0&&(b.value>-1||a===!0);if(t.keyCode===27){ot(t);return}if(t.keyCode===9&&n===!1){qe();return}if(t.target===void 0||t.target.id!==o.targetUid.value)return;if(t.keyCode===40&&o.innerLoading.value!==!0&&l.value===!1){ve(t),Ae();return}if(t.keyCode===8&&e.hideSelected!==!0&&g.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?lt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&u("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof g.value!="string"||g.value.length===0)&&(ve(t),b.value=-1,Qe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&be.value!==void 0&&(ve(t),b.value=Math.max(-1,Math.min(Y.value,b.value+(t.keyCode===33?-1:1)*be.value.view)),Qe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ve(t),Qe(t.keyCode===38?-1:1,e.multiple));const w=Y.value;if((M===void 0||J<Date.now())&&(M=""),w>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||M.length>0)){l.value!==!0&&Ae(t);const E=t.key.toLocaleLowerCase(),T=M.length===1&&M[0]===E;J=Date.now()+1500,T===!1&&(ve(t),M+=E);const P=new RegExp("^"+M.split("").map(it=>tn.indexOf(it)>-1?"\\"+it:it).join(".*"),"i");let Q=b.value;if(T===!0||Q<0||P.test(X.value(e.options[Q]))!==!0)do Q=Ot(Q+1,-1,w-1);while(Q!==b.value&&(_e.value(e.options[Q])===!0||P.test(X.value(e.options[Q]))!==!0));b.value!==Q&&fe(()=>{pe(Q),$(Q),Q>=0&&e.useInput===!0&&e.fillInput===!0&&je(X.value(e.options[Q]))});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||M!=="")&&(t.keyCode!==9||n===!1))){if(t.keyCode!==9&&ve(t),b.value>-1&&b.value<w){we(e.options[b.value]);return}if(a===!0){const E=(T,P)=>{if(P){if(Rt(P)!==!0)return}else P=e.newValueMode;if(T==null)return;Oe("",e.multiple!==!0,!0),(P==="toggle"?we:ht)(T,P==="add-unique"),e.multiple!==!0&&(D.value!==null&&D.value.focus(),Ce())};if(e.onNewValue!==void 0?u("newValue",g.value,E):E(g.value),e.multiple!==!0)return}l.value===!0?qe():o.innerLoading.value!==!0&&Ae()}}function xt(){return r===!0?oe.value:Z.value!==null&&Z.value.contentEl!==null?Z.value.contentEl:void 0}function Yt(){return xt()}function Xt(){return e.hideSelected===!0?[]:d["selected-item"]!==void 0?ye.value.map(t=>d["selected-item"](t)).slice():d.selected!==void 0?[].concat(d.selected()):e.useChips===!0?ye.value.map((t,a)=>v(Yl,{key:"option-"+a,removable:o.editable.value===!0&&_e.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ze.value,onRemove(){t.removeAtIndex(a)}},()=>v("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:X.value(t.opt)}))):[v("span",{[xe.value===!0?"innerHTML":"textContent"]:I.value})]}function Vt(){if(_.value===!0)return d["no-option"]!==void 0?d["no-option"]({inputValue:g.value}):void 0;const t=d.option!==void 0?d.option:n=>v(Le,{key:n.index,...n.itemProps},()=>v(ie,()=>v(me,()=>v("span",{[n.html===!0?"innerHTML":"textContent"]:n.label}))));let a=ne("div",Ve.value.map(t));return d["before-options"]!==void 0&&(a=d["before-options"]().concat(a)),Tl(d["after-options"],a)}function Gt(t,a){const n=a===!0?{...ae.value,...o.splitAttrs.attributes.value}:void 0,w={ref:a===!0?D:void 0,key:"i_t",class:N.value,style:e.inputStyle,value:g.value!==void 0?g.value:"",type:"search",...n,id:a===!0?o.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...jt.value};return t!==!0&&r===!0&&(Array.isArray(w.class)===!0?w.class=[...w.class,"no-pointer-events"]:w.class+=" no-pointer-events"),v("input",w)}function _t(t){y!==null&&(clearTimeout(y),y=null),!(t&&t.target&&t.target.qComposing===!0)&&(je(t.target.value||""),V=!0,m=g.value,o.focused.value!==!0&&(r!==!0||L.value===!0)&&o.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,Ie(g.value)},e.inputDebounce)))}function je(t){g.value!==t&&(g.value=t,u("inputValue",t))}function Oe(t,a,n){V=n!==!0,e.useInput===!0&&(je(t),(a===!0||n!==!0)&&(m=t),a!==!0&&Ie(t))}function Ie(t,a,n){if(e.onFilter===void 0||a!==!0&&o.focused.value!==!0)return;o.innerLoading.value===!0?u("filterAbort"):(o.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&i.value.length>0&&V!==!0&&t===X.value(i.value[0])&&(t="");const w=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);s!==null&&clearTimeout(s),s=w,u("filter",t,(E,T)=>{(a===!0||o.focused.value===!0)&&s===w&&(clearTimeout(s),typeof E=="function"&&E(),c.value=!1,fe(()=>{o.innerLoading.value=!1,o.editable.value===!0&&(a===!0?l.value===!0&&Ce():l.value===!0?ut(!0):l.value=!0),typeof T=="function"&&fe(()=>{T(f)}),typeof n=="function"&&fe(()=>{n(f)})}))},()=>{o.focused.value===!0&&s===w&&(clearTimeout(s),o.innerLoading.value=!1,c.value=!1),l.value===!0&&(l.value=!1)})}function Jt(){return v(Fl,{ref:Z,class:B.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&_.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:k.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Ee.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ne.value,onScrollPassive:C,onBeforeShow:It,onBeforeHide:Zt,onShow:el},Vt)}function Zt(t){qt(t),qe()}function el(){ee()}function tl(t){Fe(t),D.value!==null&&D.value.focus(),L.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ll(t){Fe(t),fe(()=>{L.value=!1})}function nl(){const t=[v(Kl,{class:`col-auto ${o.fieldClass.value}`,...S.value,for:o.targetUid.value,dark:k.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:g.value.length>0,...o.splitAttrs.listeners.value,onFocus:tl,onBlur:ll},{...d,rawControl:()=>o.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&t.push(v("div",{ref:oe,class:B.value+" scroll",style:e.popupContentStyle,...Ne.value,onClick:ot,onScrollPassive:C},Vt())),v(ft,{ref:ge,modelValue:q.value,position:e.useInput===!0?"top":void 0,transitionShow:z,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:It,onBeforeHide:al,onHide:ul,onShow:il},()=>v("div",{class:"q-select__dialog"+(k.value===!0?" q-select__dialog--dark q-dark":"")+(L.value===!0?" q-select__dialog--focused":"")},t))}function al(t){qt(t),ge.value!==null&&ge.value.__updateRefocusTarget(o.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),o.focused.value=!1}function ul(t){Ce(),o.focused.value===!1&&u("blur",t),Be()}function il(){const t=document.activeElement;(t===null||t.id!==o.targetUid.value)&&D.value!==null&&D.value!==t&&D.value.focus(),ee()}function qe(){q.value!==!0&&(b.value=-1,l.value===!0&&(l.value=!1),o.focused.value===!1&&(s!==null&&(clearTimeout(s),s=null),o.innerLoading.value===!0&&(u("filterAbort"),o.innerLoading.value=!1,c.value=!1)))}function Ae(t){o.editable.value===!0&&(r===!0?(o.onControlFocusin(t),q.value=!0,fe(()=>{o.focus()})):o.focus(),e.onFilter!==void 0?Ie(g.value):(_.value!==!0||d["no-option"]!==void 0)&&(l.value=!0))}function Ce(){q.value=!1,qe()}function Be(){e.useInput===!0&&Oe(e.multiple!==!0&&e.fillInput===!0&&i.value.length>0&&X.value(i.value[0])||"",!0,!0)}function ut(t){let a=-1;if(t===!0){if(i.value.length>0){const n=W.value(i.value[0]);a=e.options.findIndex(w=>Me(W.value(w),n))}se(a)}pe(a)}function ol(t,a){l.value===!0&&o.innerLoading.value===!1&&(se(-1,!0),fe(()=>{l.value===!0&&o.innerLoading.value===!1&&(t>a?se():ut(!0))}))}function pt(){q.value===!1&&Z.value!==null&&Z.value.updatePosition()}function It(t){t!==void 0&&Fe(t),u("popupShow",t),o.hasPopupOpen=!0,o.onControlFocusin(t)}function qt(t){t!==void 0&&Fe(t),u("popupHide",t),o.hasPopupOpen=!1,o.onControlFocusout(t)}function At(){r=p.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?d["no-option"]!==void 0||e.onFilter!==void 0||_.value===!1:!0),z=p.platform.is.ios===!0&&r===!0&&e.useInput===!0?"fade":e.transitionShow}return Il(At),ql(pt),At(),Ze(()=>{y!==null&&clearTimeout(y)}),Object.assign(f,{showPopup:Ae,hidePopup:Ce,removeAtIndex:lt,add:ht,toggleOption:we,getOptionIndex:()=>b.value,setOptionIndex:pe,moveOptionSelection:Qe,filter:Ie,updateMenuPosition:pt,updateInputValue:Oe,isOptionSelected:at,getEmittingOptionValue:St,isOptionDisabled:(...t)=>_e.value.apply(null,t)===!0,getOptionValue:(...t)=>W.value.apply(null,t),getOptionLabel:(...t)=>X.value.apply(null,t)}),Object.assign(o,{innerValue:i,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:H,targetRef:D,hasValue:R,showPopup:Ae,floatingLabel:h(()=>e.hideSelected!==!0&&R.value===!0||typeof g.value=="number"||g.value.length>0||Ft(e.displayValue)),getControlChild:()=>{if(o.editable.value!==!1&&(q.value===!0||_.value!==!0||d["no-option"]!==void 0))return r===!0?nl():Jt();o.hasPopupOpen===!0&&(o.hasPopupOpen=!1)},controlEvents:{onFocusin(t){o.onControlFocusin(t)},onFocusout(t){o.onControlFocusout(t,()=>{Be(),qe()})},onClick(t){if(ot(t),r!==!0&&l.value===!0){qe(),D.value!==null&&D.value.focus();return}Ae(t)}},getControl:t=>{const a=Xt(),n=t===!0||q.value!==!0||r!==!0;if(e.useInput===!0)a.push(Gt(t,n));else if(o.editable.value===!0){const E=n===!0?ae.value:void 0;a.push(v("input",{ref:n===!0?D:void 0,key:"d_t",class:"q-select__focus-target",id:n===!0?o.targetUid.value:void 0,value:I.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...E,onKeydown:kt,onKeyup:yt,onKeypress:Ct})),n===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&a.push(v("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:wt}))}if(Se.value!==void 0&&e.disable!==!0&&$e.value.length>0){const E=$e.value.map(T=>v("option",{value:T,selected:!0}));a.push(v("select",{class:"hidden",name:Se.value,multiple:e.multiple},E))}const w=e.useInput===!0||n!==!0?void 0:o.splitAttrs.attributes.value;return v("div",{class:"q-field__native row items-center",...w},a)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[v(le,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:Ue.value})]:null}),Ut(o)}});var mt;(e=>{function d(u,f,p=void 0,l=void 0,q="\u8BF7\u786E\u8BA4"){zl.create({title:q,message:u,ok:{color:"primary"},cancel:{color:"negative"},persistent:!0}).onOk(()=>{f()}).onCancel(()=>{p&&p()}).onDismiss(()=>{l&&l()})}e.confirm=d})(mt||(mt={}));const an=mt,un={class:"q-gutter-none full-height full-width column no-wrap"},on=["src"],rn={key:1},sn=vt("div",{class:"text-h6"},"\u6DFB\u52A0\u597D\u53CB",-1),mn=El({__name:"friend",emits:["emitChildren"],setup(e,{emit:d}){const u=O({addPanel:!1,targetUsername:"",comment:""});let f=O(""),p=O({editPanel:!1}),l=O({friendUsername:"",editRemarkLoading:!1,newRemark:""}),q=O([{major:{id:1,clusterName:"\u7279\u522B\u5173\u5FC3",opened:!0,onlineProportion:""},children:[{id:1,friendUsername:"wwk",remark:"\u6B66\u6587\u5EB7",clusterId:1,contactId:1,avatar:"",email:"wwk981124@gmail.com"},{id:3,friendUsername:"tony",remark:"\u6258\u5C3C",clusterId:1,contactId:2,avatar:"",email:"wwk981124@gmail.com"}]}]);function b(x){l.value.friendUsername=x.friendUsername}function g(){l.value.editRemarkLoading=!0}function L(){u.value.addPanel=!0}function c(x){let r={functionName:"selectContact",data:{contactId:x.contactId,friendUsername:x.friendUsername}};d("emitChildren",r)}function y(){an.confirm("\u662F\u5426\u5220\u9664\u8BE5\u597D\u53CB",function(){Nl.success("\u5DF2\u6210\u529F\u5220\u9664")})}return(x,r)=>(j(),Re(Ke,null,[vt("div",un,[A(Ol,{class:"row text-primary no-shadow",spread:"",stretch:"",square:"",style:{height:"60px"}},{default:F(()=>[A(We,{label:"\u6DFB\u52A0\u597D\u53CB",icon:"person_add",onClick:L}),A(We,{label:"\u5206\u7EC4\u7BA1\u7406",icon:"diversity_3",onClick:r[0]||(r[0]=V=>G(p).editPanel=!0)})]),_:1}),A(Je),A(rt,{standout:"bg-primary text-white",modelValue:G(f),"onUpdate:modelValue":r[2]||(r[2]=V=>Lt(f)?f.value=V:f=V),class:"row",label:"\u641C\u7D22\u597D\u53CB"},{prepend:F(()=>[A(le,{name:"person_search"})]),append:F(()=>[G(f)===""?(j(),ue(le,{key:0,name:"search"})):(j(),ue(le,{key:1,name:"clear",class:"cursor-pointer",onClick:r[1]||(r[1]=V=>Lt(f)?f.value="":f="")}))]),_:1},8,["modelValue"]),A(Ul,{class:"full-width full-height q-pa-xs row"},{default:F(()=>[A(st,{class:"rounded-borders full-height"},{default:F(()=>[(j(!0),Re(Ke,null,Tt(G(q),V=>(j(),ue(jl,{"default-opened":V.major.opened,"expand-separator":"",icon:"diversity_2",label:V.major.clusterName,"header-class":"text-primary"},{default:F(()=>[A(st,{bordered:"",style:{"border-top":"0","border-left":"0","border-right":"0"}},{default:F(()=>[V.children.length>0?(j(!0),Re(Ke,{key:0},Tt(V.children,(s,m)=>(j(),Re(Ke,null,[A(Le,{class:"q-my-sm"},{default:F(()=>[A(ie,{avatar:""},{default:F(()=>[A(Hl,null,{default:F(()=>[vt("img",{src:s.avatar,alt:""},null,8,on)]),_:2},1024)]),_:2},1024),A(ie,null,{default:F(()=>[A(me,null,{default:F(()=>[s.friendUsername===G(l).friendUsername?(j(),ue(rt,{key:0,loading:G(l).editRemarkLoading,standout:"bg-teal text-white",label:"\u8BF7\u8F93\u5165\u597D\u53CB\u5907\u6CE8",modelValue:G(l).newRemark,"onUpdate:modelValue":r[4]||(r[4]=z=>G(l).newRemark=z)},{append:F(()=>[G(l).editRemarkLoading?Ye("",!0):(j(),ue(le,{key:0,name:"check_circle_outline",class:"cursor-pointer",onClick:g})),G(l).editRemarkLoading?Ye("",!0):(j(),ue(le,{key:1,name:"highlight_off",class:"cursor-pointer",onClick:r[3]||(r[3]=z=>G(l).friendUsername="")}))]),_:1},8,["loading","modelValue"])):(j(),Re("span",rn,Et(s.remark),1))]),_:2},1024),A(me,{caption:"",lines:"1"},{default:F(()=>[Xe(Et(s.email),1)]),_:2},1024)]),_:2},1024),A(ie,{side:""},{default:F(()=>[A(Pl,{class:"friend-tool",size:"xs",rounded:"",color:"primary"},{label:F(()=>[]),default:F(()=>[A(st,null,{default:F(()=>[He((j(),ue(Le,{clickable:"",onClick:z=>c(s)},{default:F(()=>[A(ie,null,{default:F(()=>[A(me,null,{default:F(()=>[Xe("\u804A\u5929")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[Ge]]),He((j(),ue(Le,{clickable:"",onClick:z=>b(s)},{default:F(()=>[A(ie,null,{default:F(()=>[A(me,null,{default:F(()=>[Xe("\u4FEE\u6539\u5907\u6CE8")]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[Ge]]),He((j(),ue(Le,{class:"text-red",clickable:"",onClick:y},{default:F(()=>[A(ie,null,{default:F(()=>[A(me,null,{default:F(()=>[Xe("\u5220\u9664")]),_:1})]),_:1})]),_:1})),[[Ge]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),m!==V.children.length-1?(j(),ue(Je,{key:0,inset:"item"})):Ye("",!0)],64))),256)):Ye("",!0)]),_:2},1024)]),_:2},1032,["default-opened","label"]))),256))]),_:1})]),_:1})]),A(ft,{modelValue:u.value.addPanel,"onUpdate:modelValue":r[7]||(r[7]=V=>u.value.addPanel=V)},{default:F(()=>[A(Ml,null,{default:F(()=>[A(zt,null,{default:F(()=>[sn]),_:1}),A(zt,{class:"q-pt-none"},{default:F(()=>[A(Rl,{class:"q-gutter-md"},{default:F(()=>[A(nn,{standout:"bg-teal text-white",options:["google","baidu","biying"],label:"\u7528\u6237\u540D",modelValue:u.value.targetUsername,"onUpdate:modelValue":r[5]||(r[5]=V=>u.value.targetUsername=V)},null,8,["modelValue"]),A(rt,{modelValue:u.value.comment,"onUpdate:modelValue":r[6]||(r[6]=V=>u.value.comment=V),filled:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1}),A(Dl,{align:"right"},{default:F(()=>[He(A(We,{unelevated:"",color:"primary",label:"\u53D6 \u6D88"},null,512),[[Ge]]),A(We,{unelevated:"",color:"primary",label:"\u767B \u5F55"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),A(ft,{modelValue:G(p).editPanel,"onUpdate:modelValue":r[8]||(r[8]=V=>G(p).editPanel=V)},null,8,["modelValue"])],64))}});export{mn as default};
